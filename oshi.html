<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>お話してみよう！</title>

  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 40px auto;
      padding: 0 20px;
      text-align: center;
    }
    #preview {
      margin-top: 20px;
    }
    #preview img {
      width: 100%;
      border-radius: 10px;
      margin-top: 10px;
    }
    .bubble {
      margin-top: 10px;
      padding: 12px;
      background: #f2f2f2;
      border-radius: 10px;
      display: inline-block;
      max-width: 90%;
    }
  </style>
</head>

<body>

  <h1>おはなししよう！</h1>

  <textarea id="userInput" rows="3" placeholder="ここに相談・一言を入力してね…" style="width:100%;"></textarea>
  <br>
  <button id="sendBtn">送信して話を聞いてもらう</button>

  <div id="preview"></div>

  <script>
    // ★ Cloudflare Worker のURL
    const SCRIPT_URL = "https://billowing-bar-5086.ayako-suzuki-9fe.workers.dev/";

    // ★ 最新の imageMap（83〜100 も完全に入っている）
    const imageMap = {
      "IMAGE_01.JPG": "https://drive.google.com/uc?export=view&id=1LXCw45qQo90i0_T01CnTTMfztYMXA_Hq",
      "IMAGE_02.JPG": "https://drive.google.com/uc?export=view&id=1HHfMjOTNNUwbvUckF_FBzgUvlUb6dTTW",
      "IMAGE_03.JPG": "https://drive.google.com/uc?export=view&id=1wrNZGv6fTZcNQYAmgkXPbl6meJLA_Thq",
      "IMAGE_04.JPG": "https://drive.google.com/uc?export=view&id=1WUkdpYNTbqCrmVG7IV7pMjsGpUA-xvbo",
      "IMAGE_05.JPG": "https://drive.google.com/uc?export=view&id=1UGraXWBIlYBYUqCgQ5uADfy0YIT4CHpn",
      "IMAGE_06.JPG": "https://drive.google.com/uc?export=view&id=1yKJdigGPDcTlEodQ7x1tYcIfw5kg7xEX",
      "IMAGE_07.JPG": "https://drive.google.com/uc?export=view&id=1-oa2OBKpeNT8aQI49tOGWYD4teA1dLRX",
      "IMAGE_08.JPG": "https://drive.google.com/uc?export=view&id=1AWQbjOkC1VIbQ0M7sLXMFEnfsLS-PpV9",
      "IMAGE_09.JPG": "https://drive.google.com/uc?export=view&id=1Pp9fqGhndjRqpyxweVHbL9fBWEnPbC1m",
      "IMAGE_10.JPG": "https://drive.google.com/uc?export=view&id=1esmnBRaHK5djemAcqco3PKOZtcUCUlUs",
      "IMAGE_11.JPG": "https://drive.google.com/uc?export=view&id=1TsP3Gw0_L0nvaxh-eaDEPJ0eganKlTIX",
      "IMAGE_12.JPG": "https://drive.google.com/uc?export=view&id=1vAn1rsp0-W9jn42b-VWpfcGykUhaoc_R",
      "IMAGE_13.JPG": "https://drive.google.com/uc?export=view&id=1PXvZUgvzZT8tyhnX0ShLsDXPLQJipEn9",
      "IMAGE_14.JPG": "https://drive.google.com/uc?export=view&id=1XALPhIpJIxqFl-WKV9VWBgGKLWZW7QhA",
      "IMAGE_15.JPG": "https://drive.google.com/uc?export=view&id=1Q71HI2_iIsm6q4OJTX8MlhsSdbOoLQC_",
      "IMAGE_16.JPG": "https://drive.google.com/uc?export=view&id=1c0ck2l3lcBvPOBe76o4BxBd1Q6xwvPpO",
      "IMAGE_17.JPG": "https://drive.google.com/uc?export=view&id=170RGYJyVubHTQ2XdKStLhv9lCwRsdZgo",
      "IMAGE_18.JPG": "https://drive.google.com/uc?export=view&id=1hKZXPW1S95cly-NxIC8QUE2DYd9Y3eLO",
      "IMAGE_19.JPG": "https://drive.google.com/uc?export=view&id=1E1wlT5BQiwDB0Sa_aqIFEH4-AoKJCV4j",
      "IMAGE_20.JPG": "https://drive.google.com/uc?export=view&id=1j49F-9VbTCpw3oFNKEUrdeHs2kIDCvsb",
      "IMAGE_21.JPG": "https://drive.google.com/uc?export=view&id=1ZFYyTR1LbSJv-bytVrl8B-iURPeVdFP-",
      "IMAGE_22.JPG": "https://drive.google.com/uc?export=view&id=1WC2U5m8WVzLGBgTdpg45LXK-L52eV7cr",
      "IMAGE_23.JPG": "https://drive.google.com/uc?export=view&id=1Ciw3eO8xhOAqOh4KLtrST1u2FhPLJ6Yb",
      "IMAGE_24.JPG": "https://drive.google.com/uc?export=view&id=1H6Sj4ek4ReK8blhNKjBWe1lcEcX-eSEl",
      "IMAGE_25.JPG": "https://drive.google.com/uc?export=view&id=1nKeE_CyYF2h1QzBQhwssXdWStny57b0Z",
      "IMAGE_26.JPG": "https://drive.google.com/uc?export=view&id=1qN6sp6feAyT3GW39GW1a8CmegswObbvF",
      "IMAGE_27.JPG": "https://drive.google.com/uc?export=view&id=1ID79LqXYH3L23mV4JLe-mukgwSxDgNnZ",
      "IMAGE_28.JPG": "https://drive.google.com/uc?export=view&id=1ROLd0bH6cEw9QalvdBedqcjEf5Z69BRv",
      "IMAGE_29.JPG": "https://drive.google.com/uc?export=view&id=1uqseOr0rHSM_h9lsTsATICnikCVlG3oE",
      "IMAGE_30.JPG": "https://drive.google.com/uc?export=view&id=1T2P8VfgaVep3l4MVsrmTx2s4ajb0DJst",
      "IMAGE_31.JPG": "https://drive.google.com/uc?export=view&id=1z-PSsjc_8kUHj9QUUqMPYXy3QchD-2ue",
      "IMAGE_32.JPG": "https://drive.google.com/uc?export=view&id=1CWe7YYRKGpx5rNgWhLzjMQ0_naBAGvR2",
      "IMAGE_33.JPG": "https://drive.google.com/uc?export=view&id=1WlKep0iYENoGE8DN7ZRdOgT1iY3-tNW_",
      "IMAGE_34.JPG": "https://drive.google.com/uc?export=view&id=1CMRLvQlFODD0t8q2hQaUhdzosmwXwt7p",
      "IMAGE_35.JPG": "https://drive.google.com/uc?export=view&id=1jswhtr0EpjVyRmInLE7RJV-oKbPqQSis",
      "IMAGE_36.JPG": "https://drive.google.com/uc?export=view&id=173zgiDmaImhpv6H9F4SZPDWLPaxjk7uV",
      "IMAGE_37.JPG": "https://drive.google.com/uc?export=view&id=1twfRN_h0wuHxoBzSMFq9fMbUx__jgSHh",
      "IMAGE_38.JPG": "https://drive.google.com/uc?export=view&id=11k21lDdq0pMlbR1wuGjkYf8FaZx7_sZd",
      "IMAGE_39.JPG": "https://drive.google.com/uc?export=view&id=17j0zJ6LOaKDdn9-k_-GJ5xEEXW_dQDZj",
      "IMAGE_40.JPG": "https://drive.google.com/uc?export=view&id=1T-1NOBw9CjsPYsiKRfENAxE-eNlNOXHX",
      "IMAGE_41.JPG": "https://drive.google.com/uc?export=view&id=1xTrN7s7Dm5rJ8bgl4-ixVYjF5TUhL52A",
      "IMAGE_42.JPG": "https://drive.google.com/uc?export=view&id=1nlUWyZB6IFvu-mkO4jSoUOgUWhyNylDK",
      "IMAGE_43.JPG": "https://drive.google.com/uc?export=view&id=1QfpRm1JDZLDbrUKNd-1l7N8lq7pfiv_w",
      "IMAGE_44.JPG": "https://drive.google.com/uc?export=view&id=1Czti6_5MG1b5YuWdEThJ6Xs4x6o-x2Wh",
      "IMAGE_45.JPG": "https://drive.google.com/uc?export=view&id=15VGA6g3rqSVnoAtiqp0vtJvqysNHpe6B",
      "IMAGE_46.JPG": "https://drive.google.com/uc?export=view&id=1I4a_puLQOlLjCBk8liZy1-k_za5M3udb",
      "IMAGE_47.JPG": "https://drive.google.com/uc?export=view&id=1JhzmedBsEeYvxF1lxES6Ul8UtAJWDA08",
      "IMAGE_48.JPG": "https://drive.google.com/uc?export=view&id=1Uatbc3YVyciEu8BfGIoH9tZmW9FkQ1Rv",
      "IMAGE_49.JPG": "https://drive.google.com/uc?export=view&id=1U01g1gbj_ha6q2vp7qch_s1g8OIKbk4V",
      "IMAGE_50.JPG": "https://drive.google.com/uc?export=view&id=1ZUBqMNSnL1L2eqdsO2iUAbaZS2Onba3T",
      "IMAGE_51.JPG": "https://drive.google.com/uc?export=view&id=1zLSGZiLS1xGCcpiXUezOB0wK3TvnnmUO",
      "IMAGE_52.JPG": "https://drive.google.com/uc?export=view&id=129grCGAcSc1AI9RXuLGKjsqE1QV1Rz0F",
      "IMAGE_53.JPG": "https://drive.google.com/uc?export=view&id=1z7HNA0wUaZwtR5kSRFbOGbw8axZ-rIMq",
      "IMAGE_54.JPG": "https://drive.google.com/uc?export=view&id=1LBqVVJbUzujpG5cQ9NMjrDr_oC1cAHrT",
      "IMAGE_55.JPG": "https://drive.google.com/uc?export=view&id=1eiU1vaGhIkRBiedPa-N1bgrUALcGlckT",
      "IMAGE_56.JPG": "https://drive.google.com/uc?export=view&id=1NynHnGpGzJqpY8hMB7iEdy-JD5PrHJUB",
      "IMAGE_57.JPG": "https://drive.google.com/uc?export=view&id=1o4n2Q4Q2gBQf3X1eyMYZoPjrEAlz9K0m",
      "IMAGE_58.JPG": "https://drive.google.com/uc?export=view&id=15mHpbg4tsm1T-Rhggn4-6WjKYJhRNvSV",
      "IMAGE_59.JPG": "https://drive.google.com/uc?export=view&id=1E96XlSwVHo6xpNctVcy_j0eIzkrv0n9k",
      "IMAGE_60.JPG": "https://drive.google.com/uc?export=view&id=1zGlh6bEBxAqYz0xkPEnhEaM3ijCV1UEe",
      "IMAGE_61.JPG": "https://drive.google.com/uc?export=view&id=1sJYNVPGrl_ts_siu-ieOLcYIlUAtkTil",
      "IMAGE_62.JPG": "https://drive.google.com/uc?export=view&id=11cPfp_cGKhFZfElCWUHha8KlOjCVa2kG",
      "IMAGE_63.JPG": "https://drive.google.com/uc?export=view&id=1djkuE2ZQx6P925TSrLpLbC2A5XvhJMth",
      "IMAGE_64.JPG": "https://drive.google.com/uc?export=view&id=1AuQ82kGQJEW8zJpFI5NXyOh9_exZFxqz",
      "IMAGE_65.JPG": "https://drive.google.com/uc?export=view&id=1bOiFJG9lYxVbgUUn_VgFM24iXeke_fMS",
      "IMAGE_66.JPG": "https://drive.google.com/uc?export=view&id=1-mpXQRHZq6PctNZg68h_UMu3bqLpCafj",
      "IMAGE_67.JPG": "https://drive.google.com/uc?export=view&id=1MXzHTR40UpYdi-A_zJ1NZvR7J9VB4l-J",
      "IMAGE_68.JPG": "https://drive.google.com/uc?export=view&id=1DAKs0IreHwh3lpXQ8ohfkk87rcOHBKrM",
      "IMAGE_69.JPG": "https://drive.google.com/uc?export=view&id=1LMmC2QX-Ko76LeE6Gmb0mPKf3kjg-gJy",
      "IMAGE_70.JPG": "https://drive.google.com/uc?export=view&id=1Si0T30mctbXMZLniZGJjcb3UCgfX6TOa",
      "IMAGE_71.JPG": "https://drive.google.com/uc?export=view&id=1foHB3s6mif9TjvFhL7InSKoFBE8NVdev",
      "IMAGE_72.JPG": "https://drive.google.com/uc?export=view&id=1q_dk67gF4j-kohv01GM9UJVHSJ_MNef7",
      "IMAGE_73.JPG": "https://drive.google.com/uc?export=view&id=17AsE7y0rSbAqdUR9XCT0VdooWUQLl4yt",
      "IMAGE_74.JPG": "https://drive.google.com/uc?export=view&id=1uaRzaQIcJ2wJa5lgsjDghis-jPMgtY37",
      "IMAGE_75.JPG": "https://drive.google.com/uc?export=view&id=1B-yD0u4X7BWl_vbLSthqD75hpLwT1unt",
      "IMAGE_76.JPG": "https://drive.google.com/uc?export=view&id=1IyLCq6IAhuZK5xcpwkkWq6rB7XAliGLt",
      "IMAGE_77.JPG": "https://drive.google.com/uc?export=view&id=1yny4oSnGFPSXO_0GcrSM3aBszH1g8VTD",
      "IMAGE_78.JPG": "https://drive.google.com/uc?export=view&id=1LgtIh10QI7A0JZ6GjpysP-s4GC2vG2od",
      "IMAGE_79.JPG": "https://drive.google.com/uc?export=view&id=1z16m0Sw3Xbvc9Ylui07UAEzUF-An5Igr",
      "IMAGE_80.JPG": "https://drive.google.com/uc?export=view&id=1Cq6fdz9d3jtHOQXBI7zT7MsH-AcBtHcH",
      "IMAGE_81.JPG": "https://drive.google.com/uc?export=view&id=19uqtj1kz4CUfs6HKkT1EGpw0jyqhZ9_Z",
      "IMAGE_82.JPG": "https://drive.google.com/uc?export=view&id=1_hCAXJisSymm7LIkIHZTZb-7S1lNR9pG",
      "IMAGE_83.JPG": "https://drive.google.com/uc?export=view&id=1awHc-m864hk-AJPWId2NKgBiWo-Q2WqI",
      "IMAGE_84.JPG": "https://drive.google.com/uc?export=view&id=1rBr8du6bEmM5XgFGZ-b2nmeKcstCXzeG",
      "IMAGE_85.JPG": "https://drive.google.com/uc?export=view&id=1PBS34UBm9Gl4xewblijohA0mL-wPAxDQ",
      "IMAGE_86.JPG": "https://drive.google.com/uc?export=view&id=19YZjU06R1DTQDSnkLmEzMHkHOHNgGdy5",
      "IMAGE_87.JPG": "https://drive.google.com/uc?export=view&id=15VrqcbDLvcHzP8QXy4pqXto7eKLJaPog",
      "IMAGE_88.JPG": "https://drive.google.com/uc?export=view&id=1X2Lqp3t4Z0veFzevQ8JBiAlyAuwSYl0P",
      "IMAGE_89.JPG": "https://drive.google.com/uc?export=view&id=1zk3j3qQYTd5rx3mzF633iTsIp0SXC4Ho",
      "IMAGE_90.JPG": "https://drive.google.com/uc?export=view&id=1Lv-OaRYgQJBeN-5vCQelHaZ7okuTt_87",
      "IMAGE_91.JPG": "https://drive.google.com/uc?export=view&id=1AWZgyCsZGXOmPPh4fRB1Xe5unhJlam2f",
      "IMAGE_92.JPG": "https://drive.google.com/uc?export=view&id=1h84lh46ZjCRfmP9XWIKtS6b5O-crWJko",
      "IMAGE_93.JPG": "https://drive.google.com/uc?export=view&id=1T0vrG9vNejWlhdw_iHD0n_9Lslc-ZWjH",
      "IMAGE_94.JPG": "https://drive.google.com/uc?export=view&id=1_8FnAtuO_kFJAhtNNhRTWayE-Ohngydy",
      "IMAGE_95.JPG": "https://drive.google.com/uc?export=view&id=1dJyqWXGJ22E_i8gMsazaPPyawXiRDu5f",
      "IMAGE_96.JPG": "https://drive.google.com/uc?export=view&id=1lwkiss9SL7Q63xY98nNHVaRAgi_noNhm",
      "IMAGE_97.JPG": "https://drive.google.com/uc?export=view&id=1A7QVLb7CwLnOx6_1E41dxhqjj7KQaD5C",
      "IMAGE_98.JPG": "https://drive.google.com/uc?export=view&id=1r7u96G_krjlQyFfYjWYQPruYsZzdfnju",
      "IMAGE_99.JPG": "https://drive.google.com/uc?export=view&id=1wN4FEu5n5VYnAgh3YisUaRxOG2sgxIib",
      "IMAGE_100.JPG": "https://drive.google.com/uc?export=view&id=1P7ZXLwpxNPQrP2OKYiUbstuzXXOr5Gqt"
    };

    // ★ AI を Cloudflare Worker 経由で呼ぶ
    async function callAiStudio(text) {
      const res = await fetch(SCRIPT_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ userText: text })
      });
      const data = await res.json();
      return data.filename;
    }

    // ★ ボタンクリック時の動作
    document.getElementById("sendBtn").addEventListener("click", async () => {
      const inputText = document.getElementById("userInput").value;
      if (!inputText) return alert("何か入力してね！");

      document.getElementById("preview").innerHTML = "<div>推しが考え中…</div>";

      const filename = await callAiStudio(inputText);
      const imgUrl = imageMap[filename];

      if (imgUrl) {
        document.getElementById("preview").innerHTML = `
          <div class="bubble">推しの返答（${filename}）</div>
          <img src="${imgUrl}">
        `;
      } else {
        document.getElementById("preview").innerHTML = "画像が見つかりませんでした…";
      }
    });
  </script>

</body>
</html>
